{"componentChunkName":"component---src-pages-documents-markdown-remark-parent-file-id-jsx","path":"/documents/b081d26b-3095-5ad4-8289-29d9fdb01500/","result":{"data":{"markdownRemark":{"tableOfContents":"<ul>\n<li><a href=\"#%E5%A6%82%E4%BD%95%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8F%92%E4%BB%B6\">如何自定义插件</a></li>\n</ul>","html":"<h2 id=\"如何自定义插件\" style=\"position:relative;\">如何自定义插件<a href=\"#%E5%A6%82%E4%BD%95%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8F%92%E4%BB%B6\" aria-label=\"如何自定义插件 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>本文面向ChunJun插件开发人员，尝试通过一个开发者的角度尽可能全面地阐述一个ChunJun插件所经历的过程，同时消除开发者的困惑，快速上手插件开发。</p>\n<p>从数据流的角度来看ChunJun，可以理解为不同数据源的数据流通过对应的ChunJun插件处理，变成符合ChunJun数据规范的数据流；脏数据的处理可以理解为脏水流通过污水处理厂，变成符合标准，可以使用的水流，而对不能处理的水流收集起来。</p>\n<p>插件开发不需要关注任务具体如何调度，只需要关注关键问题：</p>\n<ol>\n<li>数据源本身读写数据的正确性；</li>\n<li>如何合理且正确地使用框架；</li>\n<li>配置文件的规范，每个插件都应有对应的配置文件；</li>\n</ol>\n<p>每个插件应当有以下目录：</p>\n<ol>\n<li>conf：存放插件配置类的包。</li>\n<li>converter：存放插件数据类型转换规则类的包。</li>\n<li>source：存放插件数据源读取逻辑有关类的包。</li>\n<li>sink：存放插件数据源写入逻辑有关类的包。</li>\n<li>table：存放插件数据源sql模式有关类的包。</li>\n<li>util：存放插件工具类的包，chunjun已经封装了一些常用工具类在chunjun-core模块中，如果还需编写插件工具类的请放在该插件目录中的util包。</li>\n</ol>\n<h3>一. Debug调试</h3>\n<h4>（1）本地调试</h4>\n<p>在chunjun-local-test模块中，官方已经写好了本地测试的LocalTest类，只需更改脚本文件路径，在代码处打上断点即可调试。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/chunjun/static/3f43f4292c6a27cf91df3daae43811b7/636c2/image-20220614171917692.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 5.521472392638037%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAS0lEQVQI1wXBAQqAIBAAwX6kmZ4VKl5gGhTR/x+zzUzBOWopHKqM3rnGxX0/vO/H2RqqhaqZXHZS2oji8c6wOEPwFpGFNUaCCLO1/G7vIhgseWA8AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220614171917692\"\n        title=\"image-20220614171917692\"\n        src=\"/chunjun/static/3f43f4292c6a27cf91df3daae43811b7/a6d36/image-20220614171917692.png\"\n        srcset=\"/chunjun/static/3f43f4292c6a27cf91df3daae43811b7/222b7/image-20220614171917692.png 163w,\n/chunjun/static/3f43f4292c6a27cf91df3daae43811b7/ff46a/image-20220614171917692.png 325w,\n/chunjun/static/3f43f4292c6a27cf91df3daae43811b7/a6d36/image-20220614171917692.png 650w,\n/chunjun/static/3f43f4292c6a27cf91df3daae43811b7/636c2/image-20220614171917692.png 911w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h4>（2）远程调试</h4>\n<p>如果需要远程调试，那么需要在 flink-conf.yaml 中增加 Flink 的远程调试配置，然后在 idea 中配置”JVM Remote“，在代码块中打断点（这种方法还能调试 Flink 本身的代码）</p>\n<pre><code class=\"language-shell\">env.java.opts.jobmanager: -agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=5005 \n\nenv.java.opts.taskmanager: -agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=5006\n</code></pre>\n<p>只需要修改标记的这两个地方，如果是 HA 集群，需要根据日志修改<strong>怎么看日志，怎么修改，自行查资料</strong>。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/chunjun/static/e77968fcf1d9c6352bd1e547459575b7/d0cc0/image-20220614172338108.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.306748466257666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABQElEQVQoz42SSW4DIRBFfafsemCqohh6sq0o97/JjyjsOI69yOLpA0KvfwOnj8EhpAWynuFigaOIyXqMxj0x3RjfMFmHYbbwFHGarQfXM+J2RSg7OBXEXBE1C2xgFQ033gpNF7Yyp7ZAUZCjwM8GKRWVGk8quzd2xsFrG/+W5tGGupkiLhTxlTI25+FZOlHgiGEC40qMT08w44zBvB7JU0OpK/b9wGXdcGwHyrajrDvqdoAkI8QEaX/BAhtI2z8IsFxgZdV9KuSUkZYVcqfWTumZlgWirKCUQZJeCCJgyV3YvuT0vLgnJ1hOmjqmB20+OcL4izYfbIBj6cLAojfbmlKq4P0LcTmD6wETKybKmKlovhBuUEHIWxc+vynfpXnR9Jy1VYgFPuaf1m08h/jTcPzd8C+z85hdUEZj/8Hjlr8BrlNi5KJfMRUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220614172338108\"\n        title=\"image-20220614172338108\"\n        src=\"/chunjun/static/e77968fcf1d9c6352bd1e547459575b7/a6d36/image-20220614172338108.png\"\n        srcset=\"/chunjun/static/e77968fcf1d9c6352bd1e547459575b7/222b7/image-20220614172338108.png 163w,\n/chunjun/static/e77968fcf1d9c6352bd1e547459575b7/ff46a/image-20220614172338108.png 325w,\n/chunjun/static/e77968fcf1d9c6352bd1e547459575b7/a6d36/image-20220614172338108.png 650w,\n/chunjun/static/e77968fcf1d9c6352bd1e547459575b7/d0cc0/image-20220614172338108.png 732w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>至此，任务 idea 调试流程就这些内容。</p>\n<h3>二. sync(json)插件</h3>\n<p>以Stream插件为例：</p>\n<h4>(1) reader</h4>\n<p>插件数据源读取逻辑需要继承BaseRichInputFormat类，BaseRichInputFormat是具体的输入数据的操作，包括open、nextRecord、close，每个插件具体操作自己的数据，InputFormat公共内容都在BaseRichInputFormat，不要随意修改。</p>\n<p>创建StreamInputFormat类继承BaseRichInputFormat类，重写其中的必要方法。</p>\n<pre><code class=\"language-java\">public class StreamInputFormat extends BaseRichInputFormat {\n    //创建数据分片\n\t@Override\n    public InputSplit[] createInputSplitsInternal(int minNumSplits) {......}\n    //打开数据连接\n\t@Override\n    public void openInternal(InputSplit inputSplit) {......}\n    //读取一条数据\n \t@Override\n    public RowData nextRecordInternal(RowData rowData) throws ReadRecordException {......}\n    //判断数据是否读取完毕\n\t@Override\n    public boolean reachedEnd() {......}\n    //关闭数据连接\n\t@Override\n    protected void closeInternal() {......}\n}\n</code></pre>\n<p>StreamInputFormat类是通过StreamInputFormatBuilder类构建的。</p>\n<pre><code class=\"language-java\">public class StreamInputFormatBuilder extends BaseRichInputFormatBuilder&#x3C;StreamInputFormat>  {\n\n    private final StreamInputFormat format;\n\n    public StreamInputFormatBuilder() {\n        super.format = format = new StreamInputFormat();\n    }\n\t//检查inputformat配置\n    @Override\n    protected void checkFormat() {......}\n}\n</code></pre>\n<p>创建StreamSourceFactory继承SourceFactory类</p>\n<pre><code class=\"language-java\">public class StreamSourceFactory extends SourceFactory {\n    private final StreamConf streamConf;\n\n    public StreamSourceFactory(SyncConf config, StreamExecutionEnvironment env) {......}\n\t\n    //构建数据流读取对象\n    @Override\n    public DataStream&#x3C;RowData> createSource() {\n        StreamInputFormatBuilder builder = new StreamInputFormatBuilder();\n        builder.setStreamConf(streamConf);\n        AbstractRowConverter rowConverter;\n        if (useAbstractBaseColumn) {\n            rowConverter = new StreamColumnConverter(streamConf);\n        } else {\n            checkConstant(streamConf);\n            final RowType rowType =\n                    TableUtil.createRowType(streamConf.getColumn(), getRawTypeConverter());\n            rowConverter = new StreamRowConverter(rowType);\n        }\n        builder.setRowConverter(rowConverter, useAbstractBaseColumn);\n\n        return createInput(builder.finish());\n    }\n\t//获取数据类型转换连接器，数据类型转换关系的实现\n    @Override\n    public RawTypeConverter getRawTypeConverter() {\n        return StreamRawTypeConverter::apply;\n    }\n}\n</code></pre>\n<p>StreamColumnConverter 继承 AbstractRowConverter类 是数据类型转换的具体实现，其中的方法参看源码。</p>\n<p>接下来从作业执行角度阐述上述类之间的执行关系。</p>\n<ol>\n<li>\n<p>com.dtstack.chunjun.Main 入口类，通过判断启动参数来决定启动何种作业。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/chunjun/static/6ba30d575f172e68c4b6fd913d9f7c94/4d08a/image-20220614143347037.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.607361963190186%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLklEQVQY0zWOWW7dQAwEdZog2kaj2aTZtT0/J7Dvf5wKpCQfDbKLBNlNtAvnoilGk9PFVt+kdBB8ptYX1/WbfXtR60WMGynu5HySy0kpB6WcxLizLhlrIs0gLLO0FKvxLpPTL6zLWJvQ88IsDc541GxRakErj9YeYwNyMjgbMNqjZ4ccFU0/KLpe8aMzBF/4OHbynTBdxHSi1YqPx3Pkrin/5TFfOJcI8cCHHb8WZqFp2k4iRkk2M14ZjnVDS8vN+35mGDR9r7gf3/5RJ+la+czaVj66+ThqGiEU06TQUhFr5fz65vr+on6+KdsH65qfFCFW3JKo+5tcX0/1PuNDffZuZu1K03WCthP8bAWLmrmCYTGOUVrEZBmFYRT/e434xx8/aoQwiMkghGYYJv4A6LXEb5YOUbcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220614143347037\"\n        title=\"image-20220614143347037\"\n        src=\"/chunjun/static/6ba30d575f172e68c4b6fd913d9f7c94/a6d36/image-20220614143347037.png\"\n        srcset=\"/chunjun/static/6ba30d575f172e68c4b6fd913d9f7c94/222b7/image-20220614143347037.png 163w,\n/chunjun/static/6ba30d575f172e68c4b6fd913d9f7c94/ff46a/image-20220614143347037.png 325w,\n/chunjun/static/6ba30d575f172e68c4b6fd913d9f7c94/a6d36/image-20220614143347037.png 650w,\n/chunjun/static/6ba30d575f172e68c4b6fd913d9f7c94/4d08a/image-20220614143347037.png 709w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n</li>\n<li>\n<p>解析参数生成SyncConf对象，配置执行环境。</p>\n</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/chunjun/static/de71846ae302d81fa717d89f5f3bb12d/0ad97/image-20220614144650798.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 9.815950920245399%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAfUlEQVQI1x3MSw6DIAAAUW/UWhWjhvhHAVHw0/vfZJqymLzdJCLPUEpjjENrGw3XN+r9TQg3znms3TFmi3ZSopzCPBvD2FJ+BCKvSF8ZSZG+6buedbWx/2g/Tny4COfDcZxYu2G0ZVEL86RoZcOkZ4ZlpCoKmrJG1hKR5fwA/WRIaryJuIQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220614144650798\"\n        title=\"image-20220614144650798\"\n        src=\"/chunjun/static/de71846ae302d81fa717d89f5f3bb12d/a6d36/image-20220614144650798.png\"\n        srcset=\"/chunjun/static/de71846ae302d81fa717d89f5f3bb12d/222b7/image-20220614144650798.png 163w,\n/chunjun/static/de71846ae302d81fa717d89f5f3bb12d/ff46a/image-20220614144650798.png 325w,\n/chunjun/static/de71846ae302d81fa717d89f5f3bb12d/a6d36/image-20220614144650798.png 650w,\n/chunjun/static/de71846ae302d81fa717d89f5f3bb12d/0ad97/image-20220614144650798.png 717w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol start=\"3\">\n<li>.将上面解析生成的SyncConf，然后通过反射加载具体的插件调用createSource方法生成DataStream</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/chunjun/static/4aaeb290506ccb310f902f6b4502f63b/09e48/image-20220614145127874.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 7.975460122699387%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAfklEQVQI1x3I4Q6CIBSAUZ/INVtTgctFdAsJMW2+/6N8rX6d7TRrLuS8UbY3Wz2o9SA9V+a4kNKLZV6YNBC8EnzAWcXLjHMBkQljldEofe/oup4m50LdD87P9fc4L0rZ+X1KmThFvBNUFDEON1qGx4BYj/qISMSMnlvb0bZ3vqa1Rv7P5KMPAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220614145127874\"\n        title=\"image-20220614145127874\"\n        src=\"/chunjun/static/4aaeb290506ccb310f902f6b4502f63b/a6d36/image-20220614145127874.png\"\n        srcset=\"/chunjun/static/4aaeb290506ccb310f902f6b4502f63b/222b7/image-20220614145127874.png 163w,\n/chunjun/static/4aaeb290506ccb310f902f6b4502f63b/ff46a/image-20220614145127874.png 325w,\n/chunjun/static/4aaeb290506ccb310f902f6b4502f63b/a6d36/image-20220614145127874.png 650w,\n/chunjun/static/4aaeb290506ccb310f902f6b4502f63b/09e48/image-20220614145127874.png 974w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol start=\"4\">\n<li>createSource方法中会构建inputformat对象，然后调用createInput方法，将inputformat对象封装至DtInputFormatSourceFunction中。</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/chunjun/static/416ccd47b0e1c6afd77dec07569f607a/20751/image-20220614145839069.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 21.47239263803681%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA6klEQVQY0x3GW3KCMABAUbZTRcgLAhgVKEKAiAO2tZ3ufx23Y8/XiazWXKymcRXeBwY/Md8Wxun1jnnu8EONqxxl4bBZQZ6VZFmBeT2vENIQxyn7OCVSSYI7OqZ5ISwr4bayPZ48Pp7MU2Acb4xjoD45MinRqUClGiUMUihEaoj3gt1bwm6XEOlUciws/bUnjJ7HtvH1/cvn84d13bjfV0JYGHpPc2koTI4WkkwqSlth8wqjC5SyJAdNJA6KXGqcUZxtQf/e4r3HDwND39M2LV3Xc+0Gzqeai6txpeNUOZpz+3+jLUrmHGLFHw//iY4JYguBAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220614145839069\"\n        title=\"image-20220614145839069\"\n        src=\"/chunjun/static/416ccd47b0e1c6afd77dec07569f607a/a6d36/image-20220614145839069.png\"\n        srcset=\"/chunjun/static/416ccd47b0e1c6afd77dec07569f607a/222b7/image-20220614145839069.png 163w,\n/chunjun/static/416ccd47b0e1c6afd77dec07569f607a/ff46a/image-20220614145839069.png 325w,\n/chunjun/static/416ccd47b0e1c6afd77dec07569f607a/a6d36/image-20220614145839069.png 650w,\n/chunjun/static/416ccd47b0e1c6afd77dec07569f607a/e548f/image-20220614145839069.png 975w,\n/chunjun/static/416ccd47b0e1c6afd77dec07569f607a/20751/image-20220614145839069.png 1037w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol start=\"5\">\n<li>DtInputFormatSourceFunction类中会调用inputformat对象中的逻辑去读取数据，inputformat中的nextRecordInternal方法读数据时，会对每条数据进行数据类型转换。</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/chunjun/static/9eb6428591a5882f13ed761d0d404ff7/34e70/image-20220614150742626.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 31.288343558282207%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHUlEQVQY002O227rIBBF/Te+AQMYcAwOxI2a50o9//8r6yhO1PZhaY802mum20Lk2Fba3ii50T6++Hh8c3z+43b/4jju1Nqo9Ua+ZDYr5BAp2/4iV9a14GzEaE+nTcRKYrGB5Ao5VtZlI6dEWS+IWVi0Q5TBKIuYgJOEtxEnHi8Loj1aOZRydLPyKB1wYSeuB9UV2pNQuPmNwyU+TaDGQrGJZZTzkxfuPGKU+xWOk6C1o64re2nc9juP64OWGiVVrlujhMwed2q6kkNB64V5tsyznKlmyzQJ42johkEj2rJoTfSJEDLi1hf+gpaIUp5pthiJWH85JU/B9Ec0jPqkGyZBTQo16XfZ0feKftAMb56Fn2Kvzjzn974f1A//AWu1vroIEX+hAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220614150742626\"\n        title=\"image-20220614150742626\"\n        src=\"/chunjun/static/9eb6428591a5882f13ed761d0d404ff7/a6d36/image-20220614150742626.png\"\n        srcset=\"/chunjun/static/9eb6428591a5882f13ed761d0d404ff7/222b7/image-20220614150742626.png 163w,\n/chunjun/static/9eb6428591a5882f13ed761d0d404ff7/ff46a/image-20220614150742626.png 325w,\n/chunjun/static/9eb6428591a5882f13ed761d0d404ff7/a6d36/image-20220614150742626.png 650w,\n/chunjun/static/9eb6428591a5882f13ed761d0d404ff7/e548f/image-20220614150742626.png 975w,\n/chunjun/static/9eb6428591a5882f13ed761d0d404ff7/34e70/image-20220614150742626.png 1053w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol start=\"6\">\n<li>\n<p>数据类型转换，flink自己内部有一套自己的数据类型，用来和外部系统进行交互。交互过程分为：将外部系统数据按照定义的类型读入到flink内部、将外部数据转换成flink内部类型、将内部类型进行转换写到外部系统。所以每个插件需要有一套类型转换机制来满足数据交互的需求。</p>\n</li>\n<li>\n<p>将外部数据转换成flink内部类，每个插件的转换方式都不同。</p>\n</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/chunjun/static/e8d7bf699cdf949e7e6f21bb0fc11448/33a7b/image-20220614151300210.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 22.699386503067483%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABBklEQVQY0y3PUW6DMBBFUTbTJoBtMA42GIwdF0KqNvtfzq0g/TjS09NoRlMkPxPTk+3xIucna4z8bolnTsS4sq8vvtJOits5s6VM9p4wJ5aQMZ1DCo0QGqV6Cmtn7nElpR0/rwz+zuTT2YXlQbp/E8LKPGf8dMfawO3m6Y1DVhJRKUTdUNeaWnQUVaUwZsS6SEhPQnwQ4k7MPyxpx7lIb2Zu3YTpJnRj0Z2jbS3GDKeuG9CNoZUtRVk1yKan1QNuTKfBZ8Ypn/k45P5Zt9DbgBsjvZ0Yxogbl3OpqBWyVhRaKoxSaDPSNIbrVXEcOZXvXNVvZSk5Pjr6aylPl+tB8HkRfFxq/gBsbqO0QlWLFwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220614151300210\"\n        title=\"image-20220614151300210\"\n        src=\"/chunjun/static/e8d7bf699cdf949e7e6f21bb0fc11448/a6d36/image-20220614151300210.png\"\n        srcset=\"/chunjun/static/e8d7bf699cdf949e7e6f21bb0fc11448/222b7/image-20220614151300210.png 163w,\n/chunjun/static/e8d7bf699cdf949e7e6f21bb0fc11448/ff46a/image-20220614151300210.png 325w,\n/chunjun/static/e8d7bf699cdf949e7e6f21bb0fc11448/a6d36/image-20220614151300210.png 650w,\n/chunjun/static/e8d7bf699cdf949e7e6f21bb0fc11448/e548f/image-20220614151300210.png 975w,\n/chunjun/static/e8d7bf699cdf949e7e6f21bb0fc11448/33a7b/image-20220614151300210.png 1119w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h4>(2) writer</h4>\n<p>插件数据源读取逻辑需要继承BaseRichOutputFormat类，BaseRichOutputFormat是具体的输入数据的操作，包括open、writeRecord、close，每个插件具体操作自己的数据，OutputFormat公共内容都在BaseRichOutputFormat，不要随意修改。</p>\n<p>创建StreamOutputformat类继承BaseRichOutputformat类，重写其中的必要方法。</p>\n<pre><code class=\"language-java\">public class StreamOutputFormat extends BaseRichOutputFormat {\n    //打开资源\n    @Override\n    protected void openInternal(int taskNumber, int numTasks) {......}\n\t//写出单条数据\n    @Override\n    protected void writeSingleRecordInternal(RowData rowData) throws WriteRecordException {......}\n\t//写出多条数据\n    @Override\n    protected void writeMultipleRecordsInternal() throws Exception {......}\n\t//关闭资源\n    @Override\n    protected void closeInternal() {......}\n}\n</code></pre>\n<p>StreamOutputFormat类是通过StreamOutputFormatBuilder构建的</p>\n<pre><code class=\"language-java\">public class StreamOutputFormatBuilder extends BaseRichOutputFormatBuilder {\n\n    private StreamOutputFormat format;\n\n    public StreamOutputFormatBuilder() {\n        super.format = format = new StreamOutputFormat();\n    }\n\t//检查Outputformat配置\n    @Override\n    protected void checkFormat() {......}\n}\n</code></pre>\n<p>创建StreamSinkFactory类继承SinkFactory类</p>\n<pre><code class=\"language-java\">public class StreamSinkFactory extends SinkFactory {\n\n    private final StreamConf streamConf;\n\n    public StreamSinkFactory(SyncConf config) {......}\n\t\n    //构建数据输出流对象\n    @Override\n    public DataStreamSink&#x3C;RowData> createSink(DataStream&#x3C;RowData> dataSet) {\n        StreamOutputFormatBuilder builder = new StreamOutputFormatBuilder();\n        builder.setStreamConf(streamConf);\n        AbstractRowConverter converter;\n        if (useAbstractBaseColumn) {\n            converter = new StreamColumnConverter(streamConf);\n        } else {\n            final RowType rowType =\n                    TableUtil.createRowType(streamConf.getColumn(), getRawTypeConverter());\n            converter = new StreamRowConverter(rowType);\n        }\n\n        builder.setRowConverter(converter, useAbstractBaseColumn);\n        return createOutput(dataSet, builder.finish());\n    }\n\t//获取数据类型转换连接器，数据类型转换关系的实现\n    @Override\n    public RawTypeConverter getRawTypeConverter() {\n        return StreamRawTypeConverter::apply;\n    }\n}\n</code></pre>\n<p>接下来从作业执行角度阐述上述类之间的执行关系，在阐述reader插件执行步骤第三步时，通过反射加载具体的插件调用createSource方法生成DataStream，同理，在生成DataStream后，writer插件也是通过反射加载调用createSink方法生成DataStreamSink的。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/chunjun/static/3af02db4b42d0c66131aa6338654a7e1/14060/image-20220616102414067.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 7.361963190184048%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARElEQVQI1x3F0Q2AIAxAQYdSCVLbQkCQ/fd5Rj4ut+0hoa3jfWL/deLlJUZD/cHywMvgSplb6yJSFrOGWkWSEYJwHpEPdTAiyUIHvl8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220616102414067\"\n        title=\"image-20220616102414067\"\n        src=\"/chunjun/static/3af02db4b42d0c66131aa6338654a7e1/a6d36/image-20220616102414067.png\"\n        srcset=\"/chunjun/static/3af02db4b42d0c66131aa6338654a7e1/222b7/image-20220616102414067.png 163w,\n/chunjun/static/3af02db4b42d0c66131aa6338654a7e1/ff46a/image-20220616102414067.png 325w,\n/chunjun/static/3af02db4b42d0c66131aa6338654a7e1/a6d36/image-20220616102414067.png 650w,\n/chunjun/static/3af02db4b42d0c66131aa6338654a7e1/14060/image-20220616102414067.png 949w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol>\n<li>createSink方法中会构建outputformat对象，然后调用createoutput方法，将outputformat对象封装至DtOutputFormatSinkFunction中。</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/chunjun/static/eb90983d176116d73b566cf1f3741a4f/7798c/image-20220616102856402.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 30.67484662576687%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABN0lEQVQY0y3QW7KiMBRGYWbTagjJzoWLguAFEVv06On5T2V1gT58L6nUqtp/EsXRlAV9f+P8dTwOdIeett7T1TW7akeIW5zPEQk4X2CsxxiPkYj4gsxaVmtFEpzjdLow3iau1xv36YfH48UwjFzHibqqEW0QbbGZI9MWnRqUythsPtabjNU65c9KkUTn6NqW/twzjn95/vwyTU+uw7i8HbsDdVWRO/+JaosYIdNCquxCKfuNahJnHPt9x3A+8byPvH//8Xq/eb3e3O8PLpc5PHBoz9TVjtIHyryizLdY40iVkKaCUmaJJtZE6qqh2bXsmwNde6RtOppdQxlLiljgxeOMx9tIdPmHLxDj0UrQqUdrv5yfhLzEz0NLTghb4jy+hGUvawLWBqzxXwGxcQnN5j9mZsJCa+E/jwHF3abujgQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220616102856402\"\n        title=\"image-20220616102856402\"\n        src=\"/chunjun/static/eb90983d176116d73b566cf1f3741a4f/a6d36/image-20220616102856402.png\"\n        srcset=\"/chunjun/static/eb90983d176116d73b566cf1f3741a4f/222b7/image-20220616102856402.png 163w,\n/chunjun/static/eb90983d176116d73b566cf1f3741a4f/ff46a/image-20220616102856402.png 325w,\n/chunjun/static/eb90983d176116d73b566cf1f3741a4f/a6d36/image-20220616102856402.png 650w,\n/chunjun/static/eb90983d176116d73b566cf1f3741a4f/e548f/image-20220616102856402.png 975w,\n/chunjun/static/eb90983d176116d73b566cf1f3741a4f/7798c/image-20220616102856402.png 1183w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol start=\"2\">\n<li>DtOutputFormatSinkFunction类中会调用outputformat对象中的逻辑去写入数据，outputformat中的writeSingleRecordInternal方法写入数据时，会对每条数据进行数据类型转换。</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/chunjun/static/d69629a03d27507643a7ecca27e1109a/29229/image-20220616103241458.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.49079754601227%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkklEQVQozz3NWXKbQBRGYVaTSPQ8dwMCTQZbll3O/hdzUihVefje7n9udxorn2+NpQVSHIjTN+X0RRo/ieOTNH6Qy4D3CR8K3jq8VriQ//EZ6zNSWY69pNsPqvdcTjP328Z0WsllIZWFkGZ8GHE2YoxHG49SBiX1K7ATO7nHFIejpAvWkmPkvFxY3zYejyfb5cq9NZYYmZxjMJamDFloojAYoZFHhTjIl/4g+X2Q/DpIuugcJQbGVpmnE+u68Wd78HN94+u+8VzfuS1nWspEbYjGUV1g8JmkPUkHog4E5V/POqscwXqGnF7D9/vK4+PB57bys608rjfW5cJ9mDnnxjkXbm3iXAaqjbRQqa4w2ExTjs7oiDWJ7CtDmZmGmVYaNTdSquRUKSGRXSS7RPGFGgrJeIL2GGFRvUHLgBCOTsiAtYUpZeZ2Yp7vDMOZUiZSGgm+Ym3EuUJOE94VtPLYPaYcSjrkTv0POoT09MKhVEDrhLHlxbqKsRljEtokrM1ovQ8tojdIaZHC0veGY685Hg1/AQBxAz9loPQ/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220616103241458\"\n        title=\"image-20220616103241458\"\n        src=\"/chunjun/static/d69629a03d27507643a7ecca27e1109a/a6d36/image-20220616103241458.png\"\n        srcset=\"/chunjun/static/d69629a03d27507643a7ecca27e1109a/222b7/image-20220616103241458.png 163w,\n/chunjun/static/d69629a03d27507643a7ecca27e1109a/ff46a/image-20220616103241458.png 325w,\n/chunjun/static/d69629a03d27507643a7ecca27e1109a/a6d36/image-20220616103241458.png 650w,\n/chunjun/static/d69629a03d27507643a7ecca27e1109a/e548f/image-20220616103241458.png 975w,\n/chunjun/static/d69629a03d27507643a7ecca27e1109a/29229/image-20220616103241458.png 1167w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3>三. sql插件</h3>\n<p><strong>Flink SQL Connetor 详细设计文档参见</strong><a href=\"https://cwiki.apache.org/confluence/display/FLINK/FLIP-95%3A+New+TableSource+and+TableSink+interfaces\">FLIP-95</a></p>\n<p>Flink SQL Connector的架构简图如下所示:</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/chunjun/static/c4bdbaa2af1b5565881cedf2f57b8428/92f8c/195230-11f4ee6bc7e788c7.webp\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 60.73619631901841%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRlAAAABXRUJQVlA4IEQAAADQAwCdASoUAAwAPtFWo0uoJKMhsAgBABoJZQC7MoADTqGX0GAi5wAA/vPAHbFGdYzo1WqsS+d5KxjNMp8swfeCzOa4AA=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"195230-11f4ee6bc7e788c7.webp\" title=\"195230-11f4ee6bc7e788c7.webp\" src=\"/chunjun/static/c4bdbaa2af1b5565881cedf2f57b8428/c1dc5/195230-11f4ee6bc7e788c7.webp\" srcset=\"/chunjun/static/c4bdbaa2af1b5565881cedf2f57b8428/94563/195230-11f4ee6bc7e788c7.webp 163w,\n/chunjun/static/c4bdbaa2af1b5565881cedf2f57b8428/647a8/195230-11f4ee6bc7e788c7.webp 325w,\n/chunjun/static/c4bdbaa2af1b5565881cedf2f57b8428/c1dc5/195230-11f4ee6bc7e788c7.webp 650w,\n/chunjun/static/c4bdbaa2af1b5565881cedf2f57b8428/1e975/195230-11f4ee6bc7e788c7.webp 975w,\n/chunjun/static/c4bdbaa2af1b5565881cedf2f57b8428/92f8c/195230-11f4ee6bc7e788c7.webp 1200w\" sizes=\"(max-width: 650px) 100vw, 650px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>动态表一直都是Flink SQL流批一体化的重要概念，也是上述架构中Planning阶段的核心。而自定义Connector的主要工作就是实现基于动态表的Source/Sink，还包括上游产生它的工厂，以及下游在Runtime阶段实际执行Source/Sink逻辑的RuntimeProvider。</p>\n<p>DynamicTableFactory需要具备以下功能：</p>\n<ul>\n<li>定义与校验建表时传入的各项参数；</li>\n<li>获取表的元数据；</li>\n<li>定义读写数据时的编码/解码格式（非必需）；</li>\n<li>创建可用的DynamicTable[Source/Sink]实例。</li>\n</ul>\n<p>DynamicTableSourceFactory：源表工厂，里面包含从source来的表(如：源表kafka)，从lookup来的表(如：维表mysql)</p>\n<p>DynamicTableSinkFactory：结果表工厂，里面包含从sink来的表(如：结果表mysql)</p>\n<p>DynamicTableSource：生成需要读取数据的RichSourceFunction(面向流)\\RichInputFormat(面向批，也可以用于流)，实现ScanTableSource即可得到。生成需要读取数据的TableFunction(全量)\\AsyncTableFunction(lru)，实现LookupTableSource即可。并被包装成Provider。</p>\n<p>DynamicTableSink：生成需要写出数据的RichSinkFunction(面向流)\\RichOutputFormat(面向批，也可以用于流)。并被包装成Provider。</p>\n<p>如果一个插件需要source端包含源表和维表,则实现ScanTableSource和LookupTableSource接口</p>\n<p>如果一个插件需要sink端，则实现DynamicTableSink接口</p>\n<p>实现了DynamicTable[Source/Sink]Factory接口的工厂类如下所示。</p>\n<pre><code class=\"language-java\">public class StreamDynamicTableFactory implements DynamicTableSourceFactory, DynamicTableSinkFactory {\n  //创建DynamicTableSource\n  @Override\n  public DynamicTableSource createDynamicTableSource(Context context) { }\n  //创建DynamicTableSink\n  @Override\n  public DynamicTableSink createDynamicTableSink(Context context) { }\n  //connector唯一标识符\n  @Override\n  public String factoryIdentifier() { }\n  //必选参数设置\n  @Override\n  public Set&#x3C;ConfigOption&#x3C;?>> requiredOptions() { }\n  //可选参数设置\n  @Override\n  public Set&#x3C;ConfigOption&#x3C;?>> optionalOptions() { }\n}\n</code></pre>\n<ol>\n<li>根据Connector特性是否只用到source、sink，实现对应的接口，这里以stream为例：既可以作为源表、又可以作为结果表，所以实现如下：</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/chunjun/static/9815d3c7f8181ad8337f77a14a99739d/7b1dc/image-20220614152751238.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 6.748466257668712%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAT0lEQVQI1wXBWw5AMBBAURvybNBpB/GBxLM0Yf8ruc5JfG3QpmLpLec8sG8TIT4838sVI8cdWPeDcRjpvKPXDi8OL4pYRUSxraPIDVla8gORriMEEzUHyAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220614152751238\"\n        title=\"image-20220614152751238\"\n        src=\"/chunjun/static/9815d3c7f8181ad8337f77a14a99739d/a6d36/image-20220614152751238.png\"\n        srcset=\"/chunjun/static/9815d3c7f8181ad8337f77a14a99739d/222b7/image-20220614152751238.png 163w,\n/chunjun/static/9815d3c7f8181ad8337f77a14a99739d/ff46a/image-20220614152751238.png 325w,\n/chunjun/static/9815d3c7f8181ad8337f77a14a99739d/a6d36/image-20220614152751238.png 650w,\n/chunjun/static/9815d3c7f8181ad8337f77a14a99739d/7b1dc/image-20220614152751238.png 956w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol start=\"2\">\n<li>实现createDynamicTableSource方法用来创建DynamicTableSource(ScanTableSource)，在创建之前，我们可以利用内置的TableFactoryHelper工具类来校验传入的参数，当然也可以自己编写校验逻辑。另外，通过关联的上下文对象还能获取到表的元数据。</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/chunjun/static/023fe8593c7edbb233d626c78b499c03/01645/image-20220614152928836.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.19631901840491%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABdUlEQVQozz2R2Y6bQBQF+RwbQ29A0xtLg22GGXuyKRolyv//RkVDpDyUznm5ulKdwreKPVu2+5Vt29n3B/v+ZL+tPG8Dr9eJLUduo2N0Ft8nutZhrUfrjrIU/zmfa4pGSsYYef/yna/ffvDz4zcfv/7w/nzyeNl4e32w3e4sUyY5j7eevrUEnwh+RArD5aKoLopLKSm0MHSmJTrPmjP7/sLz8eC2rqzLypIX5jkzpgnXOvqmw3eW6CIpTNjOY23E9gNKthSibmiMJ6WF4BJDHJmnlSkNLENiHDJDmrBNi6okqtYY2WCEplENWjaI2lBVBiFaiqpu0SbQh5WQrsx5Z5rv5LwdpOFKiJkQJmLMpHRlGK4kPzP2mdAORDtjdEddNxTnUh0f7KfoNtD7GR8WnM8HIS74kHEhY/uRmFasTWhp0bKjUT1G9VSVpvx0WB5CJeJSIyqFUj3aOJTx/1L3B1JZhOiOXgtzHJ9Leax7OtecTvWRfwG7+OiQ3ZE5HQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220614152928836\"\n        title=\"image-20220614152928836\"\n        src=\"/chunjun/static/023fe8593c7edbb233d626c78b499c03/a6d36/image-20220614152928836.png\"\n        srcset=\"/chunjun/static/023fe8593c7edbb233d626c78b499c03/222b7/image-20220614152928836.png 163w,\n/chunjun/static/023fe8593c7edbb233d626c78b499c03/ff46a/image-20220614152928836.png 325w,\n/chunjun/static/023fe8593c7edbb233d626c78b499c03/a6d36/image-20220614152928836.png 650w,\n/chunjun/static/023fe8593c7edbb233d626c78b499c03/e548f/image-20220614152928836.png 975w,\n/chunjun/static/023fe8593c7edbb233d626c78b499c03/01645/image-20220614152928836.png 1091w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol start=\"3\">\n<li>\n<p>创建StreamDynamicTableSource类，目前stream实现了ScanTableSource，实现getScanRuntimeProvider方法，用来创建DtInputFormatSourceFunction(并创建StreamInputFormat包含在DtInputFormatSourceFunction中)</p>\n<p>DtInputFormatSourceFunction：是所有InputFormat的包装类，里面实现类2pc等功能，不要随意修改。</p>\n</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/chunjun/static/5598ea5a56c11fca749815f092e7341d/8698d/image-20220614153545215.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.122699386503065%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACJUlEQVQoz12T6bKlJhRGfZm+xwGQQQYVUc/UnXTy/o+zuuR0UpX8WCLbqs/FBprkNWd2xHllCitTXPEhkLfAkj3zPLFunpBm7JQwLuDCjPWfd+MmBqFou4GuFzRaR47tZD+eLPmsxJSZ140lF+aUifNCWgtpKYQ6L8SlIJWm7QS3buDWXvQ0ZrSEkMjrTtkebPmklAdz2rDaY/TEqCyjMqjRIC6bdqjc/sfXradxWhOniTUt1fT9/sHr9Z37+aBse63PIRGsJziPcwElDX0n6TpJ24oPl2k70EzakPxEXhaOfef9evN6vio/f/5dx+f9RVk3jlwo+WCOK9YExtFjbERK8wnvBI1RFqftb8vAUTJn2bifB3/8+RfP55vzeNSgkneOsnNud/Ztw08JaxOjcvS9qjSjunrkGaVFS4NVBjta1jTzOh/c72+O/UFeduI0410k2IAzvvZ26EeknBDDx7IRwiGUR0qPUr7+0fuVvB5s604uT+Z5RwmDkg4lbe2hErrWpLg2yjJcgZdh148oOWHGhLELPl5HY2eKO5PPtU+XQbUQFnEFDLoyDJq+H2tQ211ImraVOL8S5520HCz5QUqFFDdiKsQwE5ezfruY/ILWvgb9E3JrL0SluR7aBKxL2Gmpt+VattMRayJCfqyGajTWI/J1G/7Dt6+eb19DpQYObccoJM5FXPhcwX9HPzNqX4Olsoirf+OEumrX7g5jratBMPSSX7yhgMe6bBuYAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20220614153545215\"\n        title=\"image-20220614153545215\"\n        src=\"/chunjun/static/5598ea5a56c11fca749815f092e7341d/a6d36/image-20220614153545215.png\"\n        srcset=\"/chunjun/static/5598ea5a56c11fca749815f092e7341d/222b7/image-20220614153545215.png 163w,\n/chunjun/static/5598ea5a56c11fca749815f092e7341d/ff46a/image-20220614153545215.png 325w,\n/chunjun/static/5598ea5a56c11fca749815f092e7341d/a6d36/image-20220614153545215.png 650w,\n/chunjun/static/5598ea5a56c11fca749815f092e7341d/e548f/image-20220614153545215.png 975w,\n/chunjun/static/5598ea5a56c11fca749815f092e7341d/8698d/image-20220614153545215.png 1239w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol start=\"4\">\n<li>\n<p>最后创建StreamInputFormat，用来对数据的操作包括(open、writeRecord、close方法)，公共的内容已经抽取到了BaseRichInputFormat中，是所有OutputFormat的公共类，不要随意修改。</p>\n</li>\n<li>\n<p>sink类似。</p>\n</li>\n<li>\n<p>插件也可按需求实现LookupTableSource类，以jdbc插件为例，实现getLookupRuntimeProvider方法，创建JdbcLruTableFunction/JdbcAllTableFunction，</p>\n<pre><code class=\"language-tex\">维表，支持全量和异步方式\n全量缓存:将维表数据全部加载到内存中，建议数据量大不使用。\n异步缓存:使用异步方式查询数据，并将查询到的数据使用lru缓存到内存中，建议数据量大使用。\n</code></pre>\n</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/chunjun/static/bcc35f29917cc5b9f3bfe65b2d4e1a7e/19a6b/image-20220616112115980.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74.84662576687117%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACjklEQVQ4y2WUaW7kNhBGdRlr4SLu2tVWd9ttGwg8mQHm/kd5ASknxiA/HoqQih9rIyutBNukSeOIT3PB2EAMgTF5pvRtg4/4MNHbiOodvfW0neSpbqmbllYIqqZVKGVYhpF5vTDvN8ZxYd2f2fYb87wzLjvORzqhEcJQN6LQtJK67ngqtDzVDZWQhoxzkWHemddnpuVgu7yybDdCmL+iChgXcSGhnUdoTSslnVJ0Up1WSSrrRqZpJ8SJmGZcGHAu4d1QCGHEZ+KIdamIZnGpDHWboxSn7WRZV9ZE5pS4LBvrdi0pTtNKSlOxIYvaE2cjzg8YG+lN+DoglZqX9BtB5a1jjp5j3Xi53Hm5v/H6+sb1eud6vHDZr+zbwbYdTNNG9CMhTCUjYwJC9KW2baeKaBWdYx5Hjm3lcbvx9+cnP3/+5sfnL97fPni5v7BOE2OIBBuwvcMaT68dSlqktKUHXXeKVsF4Bu+L6GVbuN8OPh7v/Hh88jheWaeZaRjx2mCExEpJ3uNNQCuLUq4ghaETPZXR+dSAN57kPEPwHPvBXx+fXLcr27KzLivzsJByl3WP791XtB6tHFr5Qk6/UjphzIhWgV5HopkY/cJlvzMOG8OwEv1Arxz5cGcGnAkFo10RVFlQxzKjlel96d4QBtb1YL892G+vrMe9rOflIKUVYxJ5IrJ/JtfwtFnMIZVFKkellSnKQtriEIeV58s783xg44jSvvzLUeR13pgFztqdDTk7/VXDplG0rS40rUYKzxQOBrfTq4ixAz7k+53ouv4/2u70z1c3Uzd5DtV5l/8li2od2J8fhDiXqPIAa+1LNG3xOflT6Jvq+6NAyrNjOZrzRTmF6loUn+aPzf8Xq2vJPyRK2e0Kq3yIAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"images\"\n        title=\"images\"\n        src=\"/chunjun/static/bcc35f29917cc5b9f3bfe65b2d4e1a7e/a6d36/image-20220616112115980.png\"\n        srcset=\"/chunjun/static/bcc35f29917cc5b9f3bfe65b2d4e1a7e/222b7/image-20220616112115980.png 163w,\n/chunjun/static/bcc35f29917cc5b9f3bfe65b2d4e1a7e/ff46a/image-20220616112115980.png 325w,\n/chunjun/static/bcc35f29917cc5b9f3bfe65b2d4e1a7e/a6d36/image-20220616112115980.png 650w,\n/chunjun/static/bcc35f29917cc5b9f3bfe65b2d4e1a7e/e548f/image-20220616112115980.png 975w,\n/chunjun/static/bcc35f29917cc5b9f3bfe65b2d4e1a7e/19a6b/image-20220616112115980.png 1191w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol start=\"7\">\n<li>\n<p>JdbcLruTableFunction继承AbstractLruTableFunction，重写其必要方法，JdbcAllTableFunction继承AbstractAllTableFunction，具体逻辑实现参考源码。</p>\n</li>\n<li>\n<p>Flink SQL采用SPI机制来发现与加载表工厂类。所以最后不要忘了classpath的META-INF/services目录下创建一个名为<code>org.apache.flink.table.factories.Factory</code>的文件，并写入我们自定义的工厂类的全限定名，如：com.dtstack.chunjun.connector.stream.table.StreamDynamicTableFactory</p>\n</li>\n</ol>\n<h3>四. 插件打包</h3>\n<p>进入项目根目录，使用maven打包，有关打包配置请参考其他插件的pom文件。</p>\n<pre><code class=\"language-sh\">mvn clean package -DskipTests\n</code></pre>\n<p>打包之前注意代码格式，在项目根目录执行以下命令格式化代码。</p>\n<pre><code class=\"language-shell\">mvn spotless:apply\n</code></pre>\n<p>打包结束后，项目根目录下会产生chunjun-dist目录，如果没意外的话，您开发的插件会在connetor目录下，之后就可以提交开发平台测试啦！</p>","id":"b923fd2e-a675-5bf9-a09e-fac42f60b2d3","parent":{"id":"b081d26b-3095-5ad4-8289-29d9fdb01500","name":"如何自定义插件","modifiedTime":"2022-07-18T13:04:01.626Z","ino":13003849}},"allFile":{"edges":[{"node":{"id":"f0d41643-1098-596b-bf38-94f283e20d66","name":"快速开始","parent":null,"relativePath":"快速开始.md","ctime":"2022-07-18T13:13:37.255Z","modifiedTime":"2022-07-18T13:13:37.255Z"}},{"node":{"id":"ef28e25c-a786-57e9-b448-0b4ce3b2bad0","name":"增量同步介绍","parent":null,"relativePath":"拓展功能/增量同步介绍.md","ctime":"2022-07-18T13:04:01.296Z","modifiedTime":"2022-07-18T13:04:01.296Z"}},{"node":{"id":"82e0d665-1d4a-589d-8af2-2bb36fb7ab42","name":"ChunJun 通用配置详解","parent":null,"relativePath":"ChunJun 通用配置详解.md","ctime":"2022-07-18T13:13:37.254Z","modifiedTime":"2022-07-18T13:13:37.254Z"}},{"node":{"id":"46676556-2e70-5def-9a07-b202ea3c153d","name":"断点续传介绍","parent":null,"relativePath":"拓展功能/断点续传介绍.md","ctime":"2022-07-18T13:04:01.296Z","modifiedTime":"2022-07-18T13:04:01.296Z"}},{"node":{"id":"4f8da6ab-07a0-5755-abd6-2dd5b6faf783","name":"如何提交一个优秀的PR","parent":null,"relativePath":"开发者指南/如何提交一个优秀的PR.md","ctime":"2022-07-18T13:04:01.296Z","modifiedTime":"2022-07-18T13:04:01.296Z"}},{"node":{"id":"b081d26b-3095-5ad4-8289-29d9fdb01500","name":"如何自定义插件","parent":null,"relativePath":"开发者指南/如何自定义插件.md","ctime":"2022-07-18T13:04:01.626Z","modifiedTime":"2022-07-18T13:04:01.626Z"}},{"node":{"id":"ca6de309-0eca-587e-9896-428c2511eb3a","name":"SqlServer CDC实时采集原理","parent":null,"relativePath":"ChunJun连接器/sqlservercdc/SqlServer CDC实时采集原理.md","ctime":"2022-07-18T13:04:01.565Z","modifiedTime":"2022-07-18T13:04:01.565Z"}},{"node":{"id":"69c5d10e-e659-5170-97fa-cdde7420f97e","name":"SqlServer配置CDC","parent":null,"relativePath":"ChunJun连接器/sqlservercdc/SqlServer配置CDC.md","ctime":"2022-07-18T13:04:01.565Z","modifiedTime":"2022-07-18T13:04:01.565Z"}},{"node":{"id":"e47e287f-4b72-50df-8a6a-47368482d8c0","name":"SqlserverCDC-source","parent":null,"relativePath":"ChunJun连接器/sqlservercdc/SqlserverCDC-source.md","ctime":"2022-07-18T13:04:01.296Z","modifiedTime":"2022-07-18T13:04:01.296Z"}},{"node":{"id":"5ae5a3ec-b136-5cfa-936a-3962e2993bde","name":"sqlserver-lookup","parent":null,"relativePath":"ChunJun连接器/sqlserver/sqlserver-lookup.md","ctime":"2022-07-18T13:04:01.566Z","modifiedTime":"2022-07-18T13:04:01.566Z"}},{"node":{"id":"bd3a1e61-331b-5766-b479-939c62902abd","name":"saphana-sink","parent":null,"relativePath":"ChunJun连接器/saphana/saphana-sink.md","ctime":"2022-07-18T13:04:01.566Z","modifiedTime":"2022-07-18T13:04:01.566Z"}},{"node":{"id":"e0cbc4da-22be-59fb-a9d2-4470fa6f856e","name":"saphana-source","parent":null,"relativePath":"ChunJun连接器/saphana/saphana-source.md","ctime":"2022-07-18T13:04:01.566Z","modifiedTime":"2022-07-18T13:04:01.566Z"}},{"node":{"id":"1706f50d-8602-556e-8797-4f0eeed2bdb3","name":"rocketmq-source","parent":null,"relativePath":"ChunJun连接器/rocketmq/rocketmq-source.md","ctime":"2022-07-18T13:13:37.255Z","modifiedTime":"2022-07-18T13:13:37.255Z"}},{"node":{"id":"55a85ca4-ff37-5957-bc86-9031eaeab7ff","name":"postgres-lookup","parent":null,"relativePath":"ChunJun连接器/postgresql/postgres-lookup.md","ctime":"2022-07-18T13:04:01.566Z","modifiedTime":"2022-07-18T13:04:01.566Z"}},{"node":{"id":"92a6406c-f755-5c3e-a7a9-d20f841ccd16","name":"postgres-sink","parent":null,"relativePath":"ChunJun连接器/postgresql/postgres-sink.md","ctime":"2022-07-18T13:04:01.566Z","modifiedTime":"2022-07-18T13:04:01.566Z"}},{"node":{"id":"2398c147-49a7-5f2b-a708-d0900053a6e3","name":"postgres-source","parent":null,"relativePath":"ChunJun连接器/postgresql/postgres-source.md","ctime":"2022-07-18T13:04:01.566Z","modifiedTime":"2022-07-18T13:04:01.566Z"}},{"node":{"id":"44a7d17b-6e34-5ae9-8c88-57402cfd9db4","name":"脏数据插件设计","parent":null,"relativePath":"拓展功能/脏数据插件设计.md","ctime":"2022-07-18T13:04:01.296Z","modifiedTime":"2022-07-18T13:04:01.296Z"}},{"node":{"id":"30bf0541-6282-5966-9d63-713688dc6074","name":"oracle-sink","parent":null,"relativePath":"ChunJun连接器/oracle/oracle-sink.md","ctime":"2022-07-18T13:04:01.295Z","modifiedTime":"2022-07-18T13:04:01.295Z"}},{"node":{"id":"eaf43beb-cbd6-525a-a7c6-3a2654aeffa1","name":"oracle-lookup","parent":null,"relativePath":"ChunJun连接器/oracle/oracle-lookup.md","ctime":"2022-07-18T13:04:01.295Z","modifiedTime":"2022-07-18T13:04:01.295Z"}},{"node":{"id":"8d8c8179-5be1-52a0-a99c-7dc268dde545","name":"mysql-source","parent":null,"relativePath":"ChunJun连接器/mysql/mysql-source.md","ctime":"2022-07-18T13:04:01.294Z","modifiedTime":"2022-07-18T13:04:01.294Z"}},{"node":{"id":"5e49784c-5220-52c6-a54d-56a910bd7ef1","name":"mysql-lookup","parent":null,"relativePath":"ChunJun连接器/mysql/mysql-lookup.md","ctime":"2022-07-18T13:04:01.567Z","modifiedTime":"2022-07-18T13:04:01.567Z"}},{"node":{"id":"09103b1d-dc06-51ef-8b6f-66dd1a491b4f","name":"oracle-source","parent":null,"relativePath":"ChunJun连接器/oracle/oracle-source.md","ctime":"2022-07-18T13:04:01.295Z","modifiedTime":"2022-07-18T13:04:01.295Z"}},{"node":{"id":"cb374582-7da7-5852-bc8b-1505cc6c78c8","name":"mysql-sink","parent":null,"relativePath":"ChunJun连接器/mysql/mysql-sink.md","ctime":"2022-07-18T13:04:01.567Z","modifiedTime":"2022-07-18T13:04:01.567Z"}},{"node":{"id":"83c8c5df-a25a-59d9-af1c-f9f9fcef0542","name":"mongodb-sink","parent":null,"relativePath":"ChunJun连接器/mongodb/mongodb-sink.md","ctime":"2022-07-18T13:04:01.567Z","modifiedTime":"2022-07-18T13:04:01.567Z"}},{"node":{"id":"20a5b9b8-a5c9-55df-b060-53ba3aba37f8","name":"mongodb-lookup","parent":null,"relativePath":"ChunJun连接器/mongodb/mongodb-lookup.md","ctime":"2022-07-18T13:04:01.567Z","modifiedTime":"2022-07-18T13:04:01.567Z"}},{"node":{"id":"8367eb2f-dc56-58a3-a52d-375244f59eae","name":"mongodb-source","parent":null,"relativePath":"ChunJun连接器/mongodb/mongodb-source.md","ctime":"2022-07-18T13:04:01.567Z","modifiedTime":"2022-07-18T13:04:01.567Z"}},{"node":{"id":"f1114911-d8d8-56c8-a74c-fd9442c83851","name":"LogMiner-source","parent":null,"relativePath":"ChunJun连接器/logminer/LogMiner-source.md","ctime":"2022-07-18T13:04:01.294Z","modifiedTime":"2022-07-18T13:04:01.294Z"}},{"node":{"id":"cc6de85d-2f01-56d1-a128-ec7980208099","name":"LogMiner配置","parent":null,"relativePath":"ChunJun连接器/logminer/LogMiner配置.md","ctime":"2022-07-18T13:04:01.294Z","modifiedTime":"2022-07-18T13:04:01.294Z"}},{"node":{"id":"798c5611-b0fe-5c5f-bf89-1ae555f53859","name":"kudu-sink","parent":null,"relativePath":"ChunJun连接器/kudu/kudu-sink.md","ctime":"2022-07-18T13:13:37.254Z","modifiedTime":"2022-07-18T13:13:37.254Z"}},{"node":{"id":"ea91c865-1214-5266-82c6-db4cf37c3d8a","name":"kudu-source","parent":null,"relativePath":"ChunJun连接器/kudu/kudu-source.md","ctime":"2022-07-18T13:13:37.255Z","modifiedTime":"2022-07-18T13:13:37.255Z"}},{"node":{"id":"8f8565cf-0ade-5efd-aff8-85541d0e1c10","name":"kudu-lookup","parent":null,"relativePath":"ChunJun连接器/kudu/kudu-lookup.md","ctime":"2022-07-18T13:04:01.568Z","modifiedTime":"2022-07-18T13:04:01.568Z"}},{"node":{"id":"805c1f15-aa5a-5a8a-831e-c55b8728b9c7","name":"LogMiner原理","parent":null,"relativePath":"ChunJun连接器/logminer/LogMiner原理.md","ctime":"2022-07-18T13:04:01.567Z","modifiedTime":"2022-07-18T13:04:01.567Z"}},{"node":{"id":"92328699-7adb-5000-999a-74ce048601bd","name":"kingbase-sink","parent":null,"relativePath":"ChunJun连接器/kingbase/kingbase-sink.md","ctime":"2022-07-18T13:04:01.568Z","modifiedTime":"2022-07-18T13:04:01.568Z"}},{"node":{"id":"b16ad26e-cc01-5db0-a8cf-9208f73e8554","name":"kafka-source","parent":null,"relativePath":"ChunJun连接器/kafka/kafka-source.md","ctime":"2022-07-18T13:04:01.293Z","modifiedTime":"2022-07-18T13:04:01.293Z"}},{"node":{"id":"56066d41-677b-5355-9b2f-6214b88f4ad9","name":"influxdb-sink","parent":null,"relativePath":"ChunJun连接器/influxdb/influxdb-sink.md","ctime":"2022-07-18T13:04:01.293Z","modifiedTime":"2022-07-18T13:04:01.293Z"}},{"node":{"id":"7bb10c1e-9147-5e3e-9abf-cf6ce72b4149","name":"influxdb-source","parent":null,"relativePath":"ChunJun连接器/influxdb/influxdb-source.md","ctime":"2022-07-18T13:04:01.293Z","modifiedTime":"2022-07-18T13:04:01.293Z"}},{"node":{"id":"458df0e3-6981-5238-9966-db644847ac06","name":"hive-lookup","parent":null,"relativePath":"ChunJun连接器/hive/hive-lookup.md","ctime":"2022-07-18T13:04:01.568Z","modifiedTime":"2022-07-18T13:04:01.568Z"}},{"node":{"id":"01896fcf-e9d6-5d38-950e-5e816d82dd2f","name":"hive-sink","parent":null,"relativePath":"ChunJun连接器/hive/hive-sink.md","ctime":"2022-07-18T13:04:01.568Z","modifiedTime":"2022-07-18T13:04:01.568Z"}},{"node":{"id":"885b4b1a-4860-5c6f-91f7-d6f31613968e","name":"hdfs-sink","parent":null,"relativePath":"ChunJun连接器/hdfs/hdfs-sink.md","ctime":"2022-07-18T13:13:37.254Z","modifiedTime":"2022-07-18T13:13:37.254Z"}},{"node":{"id":"8f93aeda-1932-59f9-a099-5c30e3067713","name":"hdfs-source","parent":null,"relativePath":"ChunJun连接器/hdfs/hdfs-source.md","ctime":"2022-07-18T13:13:37.254Z","modifiedTime":"2022-07-18T13:13:37.254Z"}},{"node":{"id":"642cb724-029b-55e3-8b89-79170906c581","name":"hbase-lookup","parent":null,"relativePath":"ChunJun连接器/hbase/hbase-lookup.md","ctime":"2022-07-18T13:04:01.292Z","modifiedTime":"2022-07-18T13:04:01.292Z"}},{"node":{"id":"04248c06-4b3c-59d3-b5f9-78429fcacfa2","name":"hbase-sink","parent":null,"relativePath":"ChunJun连接器/hbase/hbase-sink.md","ctime":"2022-07-18T13:04:01.292Z","modifiedTime":"2022-07-18T13:04:01.292Z"}},{"node":{"id":"eafde96a-64f5-571d-91bd-604afc7483da","name":"kingbase-source","parent":null,"relativePath":"ChunJun连接器/kingbase/kingbase-source.md","ctime":"2022-07-18T13:04:01.568Z","modifiedTime":"2022-07-18T13:04:01.568Z"}},{"node":{"id":"a5a036cd-d701-55a9-8242-5f26db7f7f05","name":"kafka-sink","parent":null,"relativePath":"ChunJun连接器/kafka/kafka-sink.md","ctime":"2022-07-18T13:04:01.293Z","modifiedTime":"2022-07-18T13:04:01.293Z"}},{"node":{"id":"a5cc630a-93f9-542e-a8ff-43373c7b6a40","name":"hbase-source","parent":null,"relativePath":"ChunJun连接器/hbase/hbase-source.md","ctime":"2022-07-18T13:04:01.292Z","modifiedTime":"2022-07-18T13:04:01.292Z"}},{"node":{"id":"35c30ec0-9d31-5354-956f-083f42a8946c","name":"greenplum-sink","parent":null,"relativePath":"ChunJun连接器/greenplum/greenplum-sink.md","ctime":"2022-07-18T13:04:01.569Z","modifiedTime":"2022-07-18T13:04:01.569Z"}},{"node":{"id":"ee326cf2-5d39-56d5-83da-4fbe9fba9450","name":"gbase-source","parent":null,"relativePath":"ChunJun连接器/gbase/gbase-source.md","ctime":"2022-07-18T13:04:01.569Z","modifiedTime":"2022-07-18T13:04:01.569Z"}},{"node":{"id":"8ea26f25-14cc-5e9d-a781-31513d381197","name":"greenplum-source","parent":null,"relativePath":"ChunJun连接器/greenplum/greenplum-source.md","ctime":"2022-07-18T13:04:01.569Z","modifiedTime":"2022-07-18T13:04:01.569Z"}},{"node":{"id":"4933f5ad-1cfb-5aa4-aac2-813d6da7695a","name":"gbase-lookup","parent":null,"relativePath":"ChunJun连接器/gbase/gbase-lookup.md","ctime":"2022-07-18T13:04:01.569Z","modifiedTime":"2022-07-18T13:04:01.569Z"}},{"node":{"id":"30e0cdc1-97ab-5791-b423-efeea69458cb","name":"gbase-sink","parent":null,"relativePath":"ChunJun连接器/gbase/gbase-sink.md","ctime":"2022-07-18T13:04:01.569Z","modifiedTime":"2022-07-18T13:04:01.569Z"}},{"node":{"id":"b6dd0c5e-b359-5de3-83a0-f54e5a5bebcb","name":"sqlserver-source","parent":null,"relativePath":"ChunJun连接器/sqlserver/sqlserver-source.md","ctime":"2022-07-18T13:04:01.566Z","modifiedTime":"2022-07-18T13:04:01.566Z"}},{"node":{"id":"e3bfa300-a836-53e2-af5c-ada2602aa7e7","name":"es7-sink","parent":null,"relativePath":"ChunJun连接器/elasticsearch/es7-sink.md","ctime":"2022-07-18T13:04:01.569Z","modifiedTime":"2022-07-18T13:04:01.569Z"}},{"node":{"id":"770f0e45-3c31-50a0-9574-142f14d85dd3","name":"es7-lookup","parent":null,"relativePath":"ChunJun连接器/elasticsearch/es7-lookup.md","ctime":"2022-07-18T13:04:01.569Z","modifiedTime":"2022-07-18T13:04:01.569Z"}},{"node":{"id":"e6a357ff-ccd9-57f5-bc97-bdec6fcf2dfc","name":"es7-source","parent":null,"relativePath":"ChunJun连接器/elasticsearch/es7-source.md","ctime":"2022-07-18T13:04:01.292Z","modifiedTime":"2022-07-18T13:04:01.292Z"}},{"node":{"id":"28944006-c433-5ae1-b61c-66d5b7fe662a","name":"dm-sink","parent":null,"relativePath":"ChunJun连接器/dm/dm-sink.md","ctime":"2022-07-18T13:04:01.291Z","modifiedTime":"2022-07-18T13:04:01.291Z"}},{"node":{"id":"121009fb-9c1e-576f-92bc-a1f3d877f7dd","name":"dorisbatch-sink","parent":null,"relativePath":"ChunJun连接器/doris/dorisbatch-sink.md","ctime":"2022-07-18T13:04:01.292Z","modifiedTime":"2022-07-18T13:04:01.292Z"}},{"node":{"id":"fb59c9f5-26f0-5469-ba51-9241e03a4c95","name":"dm-source","parent":null,"relativePath":"ChunJun连接器/dm/dm-source.md","ctime":"2022-07-18T13:04:01.291Z","modifiedTime":"2022-07-18T13:04:01.291Z"}},{"node":{"id":"0b25801f-a066-55a8-ac8e-b9a176a6c53f","name":"db2-sink","parent":null,"relativePath":"ChunJun连接器/db2/db2-sink.md","ctime":"2022-07-18T13:04:01.570Z","modifiedTime":"2022-07-18T13:04:01.570Z"}},{"node":{"id":"2df745f4-d7dd-5286-bc99-792c7aef77ce","name":"db2-lookup","parent":null,"relativePath":"ChunJun连接器/db2/db2-lookup.md","ctime":"2022-07-18T13:04:01.570Z","modifiedTime":"2022-07-18T13:04:01.570Z"}},{"node":{"id":"ef0ed959-f9a4-5e52-b39e-1a5546efdc44","name":"db2-source","parent":null,"relativePath":"ChunJun连接器/db2/db2-source.md","ctime":"2022-07-18T13:04:01.570Z","modifiedTime":"2022-07-18T13:04:01.570Z"}},{"node":{"id":"af7a6c2b-5534-53aa-ac04-f1166f15d075","name":"clickhouse-lookup","parent":null,"relativePath":"ChunJun连接器/clickhouse/clickhouse-lookup.md","ctime":"2022-07-18T13:04:01.570Z","modifiedTime":"2022-07-18T13:04:01.570Z"}},{"node":{"id":"9db789e6-e439-5449-a360-57329c11984a","name":"clickhouse-sink","parent":null,"relativePath":"ChunJun连接器/clickhouse/clickhouse-sink.md","ctime":"2022-07-18T13:04:01.570Z","modifiedTime":"2022-07-18T13:04:01.570Z"}},{"node":{"id":"4aadef32-8180-58ad-afd4-912de99a1521","name":"clickhouse-source","parent":null,"relativePath":"ChunJun连接器/clickhouse/clickhouse-source.md","ctime":"2022-07-18T13:04:01.570Z","modifiedTime":"2022-07-18T13:04:01.570Z"}},{"node":{"id":"cfdd86a3-0060-5aba-8f6c-6979d80e3ab8","name":"sqlserver-sink","parent":null,"relativePath":"ChunJun连接器/sqlserver/sqlserver-sink.md","ctime":"2022-07-18T13:04:01.566Z","modifiedTime":"2022-07-18T13:04:01.566Z"}},{"node":{"id":"92ba67d7-1bcd-5c4b-8193-b2f8572cea03","name":"Postgres-CDC","parent":null,"relativePath":"ChunJun连接器/pgwal/Postgres-CDC.md","ctime":"2022-07-18T13:04:01.567Z","modifiedTime":"2022-07-18T13:04:01.567Z"}},{"node":{"id":"4cd179a7-17b7-54b0-bf67-8e17c6dfd5e8","name":"binlog-source","parent":null,"relativePath":"ChunJun连接器/binlog/binlog-source.md","ctime":"2022-07-18T13:05:36.946Z","modifiedTime":"2022-07-18T13:05:36.946Z"}},{"node":{"id":"3b172789-34d1-5fbf-8a6b-a592bc5a1d16","name":"protobuf-x","parent":null,"relativePath":"ChunJun拓展数据格式/protobuf-x.md","ctime":"2022-07-18T13:04:01.290Z","modifiedTime":"2022-07-18T13:04:01.290Z"}}]}},"pageContext":{"id":"b923fd2e-a675-5bf9-a09e-fac42f60b2d3","parent__id":"b081d26b-3095-5ad4-8289-29d9fdb01500","__params":{"parent__id":"b081d26b-3095-5ad4-8289-29d9fdb01500"}}},"staticQueryHashes":["1197112220","1410458087","527733040","63159454"]}