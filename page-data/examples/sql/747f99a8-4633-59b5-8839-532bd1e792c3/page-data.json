{"componentChunkName":"component---src-pages-examples-sql-json-content-parent-file-id-jsx","path":"/examples/sql/747f99a8-4633-59b5-8839-532bd1e792c3/","result":{"data":{"jsonContent":{"id":"9c2812f3-e0f6-5500-8df5-eddb72236e29","content":"-- {\"id\":100,\"name\":\"lb james阿道夫\",\"money\":293.899778,\"dateone\":\"2020-07-30 10:08:22\",\"age\":\"33\",\"datethree\":\"2020-07-30 10:08:22.123\",\"datesix\":\"2020-07-30 10:08:22.123456\",\"datenigth\":\"2020-07-30 10:08:22.123456789\",\"dtdate\":\"2020-07-30\",\"dttime\":\"10:08:22\"}\r\nCREATE TABLE source_ods_fact_user_ippv\r\n(\r\n    id           INT,\r\n    name         STRING,\r\n    money        decimal,\r\n    dateone      timestamp,\r\n    age          bigint,\r\n    datethree    timestamp,\r\n    datesix      timestamp(6),\r\n    datenigth    timestamp(9),\r\n    dtdate       date,\r\n    dttime       time,\r\n\r\n    ts           TIMESTAMP(3) METADATA FROM 'timestamp'\r\n    ,\r\n    partition_id BIGINT METADATA FROM 'partition' VIRTUAL -- from Kafka connector\r\n    ,\r\n    WATERMARK FOR datethree AS datethree - INTERVAL '5' SECOND\r\n) WITH (\r\n      'connector' = 'kafka-x'\r\n      ,'topic' = 'da'\r\n      ,'properties.bootstrap.servers' = 'localhost:9092'\r\n      ,'properties.group.id' = 'luna_g'\r\n      ,'scan.startup.mode' = 'earliest-offset'\r\n      -- ,'scan.startup.mode' = 'latest-offset'\r\n      ,'format' = 'json'\r\n      ,'json.timestamp-format.standard' = 'SQL'\r\n      -- ,'scan.parallelism' = '3'\r\n      );\r\n\r\n\r\nCREATE TABLE result_total_pvuv_min\r\n(\r\n    id           INT,\r\n    name         STRING,\r\n    money        decimal,\r\n    dateone      timestamp,\r\n    age          bigint,\r\n    datethree    timestamp,\r\n    datesix      timestamp(6),\r\n    datenigth    timestamp(9),\r\n    dtdate       date,\r\n    dttime       time,\r\n\r\n    ts           TIMESTAMP(3)\r\n    ,\r\n    partition_id BIGINT\r\n    ,\r\n    PRIMARY KEY (id, name, money, dateone, age, datethree, datesix, datenigth, dtdate, dttime, ts,\r\n                 partition_id) NOT ENFORCED\r\n) WITH (\r\n      -- 'connector' = 'stream-x'\r\n\r\n      'connector' = 'upsert-kafka-x'\r\n\r\n      ,'topic' = 'test'\r\n      ,'properties.bootstrap.servers' = 'localhost:9092'\r\n      ,'key.format' = 'json'\r\n      ,'value.format' = 'json'\r\n      ,'value.fields-include' = 'ALL'\r\n      -- ,'sink.parallelism' = '2'\r\n      );\r\n\r\n\r\nINSERT INTO result_total_pvuv_min\r\nSELECT id\r\n     , name\r\n     , money\r\n     , dateone\r\n     , age\r\n     , datethree\r\n     , datesix\r\n     , datenigth\r\n     , dtdate\r\n     , dttime\r\n     , ts\r\n     , partition_id\r\nfrom source_ods_fact_user_ippv\r\ngroup by id\r\n       , name\r\n       , money\r\n       , dateone\r\n       , age\r\n       , datethree\r\n       , datesix\r\n       , datenigth\r\n       , dtdate\r\n       , dttime\r\n       , ts\r\n       , partition_id\r\n;\r\n"}},"pageContext":{"id":"9c2812f3-e0f6-5500-8df5-eddb72236e29","parent__id":"747f99a8-4633-59b5-8839-532bd1e792c3","__params":{"parent__id":"747f99a8-4633-59b5-8839-532bd1e792c3"}}},"staticQueryHashes":["1197112220","1410458087","527733040","63159454"]}