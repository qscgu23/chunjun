{"componentChunkName":"component---src-pages-examples-sql-json-content-parent-file-id-jsx","path":"/examples/sql/a40ef1ae-51b7-536f-b27a-8a94d9399782/","result":{"data":{"jsonContent":{"id":"2119df63-98c2-5957-9671-662a61acd997","content":"-- {\"id\":100,\"name\":\"lb james阿道夫\",\"money\":293.899778,\"dateone\":\"2020-07-30 10:08:22\",\"age\":\"33\",\"datethree\":\"2020-07-30 10:08:22.123\",\"datesix\":\"2020-07-30 10:08:22.123456\",\"datenigth\":\"2020-07-30 10:08:22.123456789\",\"dtdate\":\"2020-07-30\",\"dttime\":\"10:08:22\"}\r\nCREATE TABLE source\r\n(\r\n    id        INT,\r\n    name      STRING,\r\n    money     decimal,\r\n    dateone   timestamp,\r\n    age       bigint,\r\n    datethree timestamp,\r\n    datesix   timestamp(6),\r\n    datenigth timestamp(9),\r\n    dtdate    date,\r\n    dttime    time,\r\n    PROCTIME AS PROCTIME()\r\n) WITH (\r\n      'connector' = 'kafka-x'\r\n      ,'topic' = 'da'\r\n      ,'properties.bootstrap.servers' = 'kudu1:9092'\r\n      ,'properties.group.id' = 'luna_g'\r\n      ,'scan.startup.mode' = 'earliest-offset'\r\n      -- ,'scan.startup.mode' = 'latest-offset'\r\n      ,'format' = 'json'\r\n      ,'json.timestamp-format.standard' = 'SQL'\r\n      );\r\n\r\n\r\nCREATE TABLE side\r\n(\r\n    ID          int,\r\n    NAME        varchar,\r\n    MONEY       decimal,\r\n    DATEONE     timestamp,\r\n    AGE         bigint,\r\n    DATETHREE   timestamp,\r\n    DATESIX     timestamp,\r\n    PHONE       bigint,\r\n    WECHAT      varchar,\r\n    INCOME      decimal,\r\n    BIRTHDAY    timestamp,\r\n    DTDATE      date,\r\n    DTTIME      time,\r\n    TODAY       date,\r\n    TIMECURRENT time,\r\n    ABOOLEAN    smallint ,\r\n    ADOUBLE     double,\r\n    AFLOAT      decimal ,\r\n    ACHAR       char,\r\n    ABINARY     BYTES,\r\n    ATINYINT    smallint ,\r\n    PRIMARY KEY (ID) NOT ENFORCED\r\n) WITH (\r\n      'connector' = 'db2-x',\r\n      'url' = 'jdbc:db2://localtest:50002/DT_TEST',\r\n      'table-name' = 'FLINK_DIM',\r\n      'username' = 'db2inst1',\r\n      'password' = 'dtstack1',\r\n      'lookup.cache-type' = 'all',\r\n\t  'lookup.parallelism' = '2'\r\n      );\r\n\r\nCREATE TABLE sink\r\n(\r\n    ID          int,\r\n    NAME        varchar,\r\n    MONEY       decimal,\r\n    DATEONE     timestamp,\r\n    AGE         bigint,\r\n    DATETHREE   timestamp,\r\n    DATESIX     timestamp,\r\n    PHONE       bigint,\r\n    WECHAT      varchar,\r\n    INCOME      decimal,\r\n    BIRTHDAY    timestamp,\r\n    DTDATE      date,\r\n    DTTIME      time,\r\n    TODAY       date,\r\n    TIMECURRENT time,\r\n    ABOOLEAN    smallint,\r\n    ADOUBLE     double,\r\n    AFLOAT      decimal ,\r\n    ACHAR       char,\r\n    ABINARY     BYTES,\r\n    ATINYINT    smallint\r\n) WITH (\r\n      'connector' = 'stream-x',\r\n\t  'sink.parallelism' = '1'\r\n      );\r\n\r\ncreate\r\nTEMPORARY view view_out\r\n  as\r\nselect u.id\r\n     , u.name\r\n     , u.money\r\n     , u.dateone\r\n     , u.age\r\n     , u.datethree\r\n     , u.datesix\r\n     , s.PHONE\r\n     , s.WECHAT\r\n     , s.INCOME\r\n     , s.BIRTHDAY\r\n     , u.dtdate\r\n     , u.dttime\r\n     , s.TODAY\r\n     , s.TIMECURRENT\r\n     , s.ABOOLEAN\r\n     , s.ADOUBLE\r\n     , s.AFLOAT\r\n     , s.ACHAR\r\n     , s.ABINARY\r\n     , s.ATINYINT\r\nfrom source u\r\n         left join side FOR SYSTEM_TIME AS OF u.PROCTIME AS s\r\n                   on u.id = s.ID;\r\n\r\ninsert into sink\r\nselect *\r\nfrom view_out;\r\n"}},"pageContext":{"id":"2119df63-98c2-5957-9671-662a61acd997","parent__id":"a40ef1ae-51b7-536f-b27a-8a94d9399782","__params":{"parent__id":"a40ef1ae-51b7-536f-b27a-8a94d9399782"}}},"staticQueryHashes":["1197112220","1410458087","527733040","63159454"]}